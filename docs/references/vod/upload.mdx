---
title: Upload an Asset
description: Livepeer Studio API Reference | Upload
metaTitle: Upload - Livepeer Studio
metaDescription: Livepeer Studio API Reference | Upload
---

# Directly Upload an Asset

To manually upload an asset to the Livepeer platform, your first need to request
for a direct upload URL and only then actually upload the contents of the asset.

This also allows your users to upload files directly to Livepeer, since the
upload URL is pre-signed with your credentials and is accessible from the
browser. The initial API call to get the upload URL must be done from a backend
though, from which an API token is available.

## Step 1: Create a new Direct Upload URL

First generate a URL to directly upload a video `Asset` to Livepeer on
`POST /api/asset/request-upload`:

```jsx
curl --location --request POST 'https://livepeer.studio/api/asset/request-upload' \
--header 'Authorization: Bearer $API_TOKEN' \
--header 'Content-Type: application/json' \
--data-raw '{
    "name":"Example name"
}'
```

### Request body parameters

<!--
<Table
  data={[
    {
      parameter: <code>name</code>,
      type: <code>string</code>,
      description:
        "The name of the `Asset` containing a custom human-readable description or title.",
    },
  ]}
/> -->

### Response example

```jsx
{
    "url": "https://origin.livepeer.studio/api/asset/upload/direct?token=aHR0cHM6Ly9zdG9yYWdlLmdvb2dsZWFwaXMuY29tL2xwLW55Yy12b2QtbW9uc3Rlci9kaXJlY3RVcGxvYWQvNjI3OHQyZWlrY2JqZXUxNC9zb3VyY2U%2F...",
    "tusEndpoint": "https://origin.livepeer.studio/api/asset/upload/tus?token=aHR0cHM6Ly9zdG9yYWdlLmdvb2dsZWFwaXMuY29tL2xwLW55Yy12b2QtbW9uc3Rlci9kaXJlY3RVcGxvYWQvNjI3OHQyZWlrY2JqZXUxNC9zb3VyY2U%2F...",
    "asset": {
        "id": "$ASSET_ID",
        "playbackId": "$PLAYBACK_ID",
        "userId": "$USER_ID",
        "createdAt": 1644595454248,
        "status": "waiting",
        "name": "Example name"
    }
}
```

## Step 2a: Direct Upload

You now have 2 options, resumable or direct upload. For a more reliable
experience, you should use resumable uploads which will work better for users
with unreliable or slow network connections. If you want a simpler
implementation, you should just make a direct upload.

For a direct upload, make a `PUT` request to the URL received in the `url` field
of the response above, with the raw video file as the request body. response
above:

```jsx
curl --location --request PUT "${url}" \
--header 'Content-Type: video/mp4' \
--data-binary '@$VIDEO_FILE_PATH'
```

> **Notice** that we only support mp4 files encoded with H264 video and AAC
> audio at the moment. If you are unsure about these, try sending the file
> anyway and check any returned errors!

## Step 2b: Resumable upload

Livepeer Studio supports resumable uploads via [Tus](https://tus.io/). This
section provides a simple example of how to use `tus-js-client` to upload a
video file.

From the previous section, we generated a URL to upload a video file to Livepeer
on `POST /api/asset/request-upload`. You should use the `tusEndpoint` field of
the response to upload the video file and track the progress:

```js
//  This assumes there is an `input` element of `type="file"` with id `fileInput` in the HTML
const input = document.getElementById("fileInput")
const file = input.files[0]
const upload = new tus.Upload(file, {
  endpoint: tusEndpoint, // URL from `tusEndpoint` field in the `/request-upload` response
  metadata: {
    filename,
    filetype: "video/mp4",
  },
  uploadSize: file.size,
  onError(err) {
    console.error("Error uploading file:", err)
  },
  onProgress(bytesUploaded, bytesTotal) {
    const percentage = ((bytesUploaded / bytesTotal) * 100).toFixed(2)
    console.log("Uploaded " + percentage + "%")
  },
  onSuccess() {
    console.log("Upload finished:", upload.url)
  },
})
const previousUploads = await upload.findPreviousUploads()
if (previousUploads.length > 0) {
  upload.resumeFromPreviousUpload(previousUploads[0])
}
upload.start()
```

> **Note:** If you are using `tus` from `node.js`, you need to add a custom URL
> storage to enable resuming from previous uploads. On the browser, this is
> enabled by default using local storage. In `node.js`, add
> `urlStorage: new tus.FileUrlStorage("path/to/tmp/file")`, to the `UploadFile`
> object definition above.
